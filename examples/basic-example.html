<!doctype html>
<html>
    <head>
        <title>JSIMP Playground</title>
    </head>
    <body>
        <canvas id="canvas"></canvas>
        <input type="file" id="imageInput" name="imageInput" />
        <br><br><br>
        <button onclick="jsimp.greyScale();jsimp.loadImgToCanvas(canvas);">Greyscale</button>
        <button onclick="jsimp.invertColors();jsimp.loadImgToCanvas(canvas);">Invert Colors</button>
        <br><br>
        <button onclick="jsimp.brightness(5);jsimp.loadImgToCanvas(canvas);">+ Brightness</button>
        <button onclick="jsimp.brightness(-5);jsimp.loadImgToCanvas(canvas);">- Brightness</button>
        <br><br>
        <button onclick="jsimp.opacity(5);jsimp.loadImgToCanvas(canvas);">+ Opacity</button>
        <button onclick="jsimp.opacity(-5);jsimp.loadImgToCanvas(canvas);">- Opacity</button>
        
        <script type="text/javascript" src="https://raw.githubusercontent.com/butane/jsimp/master/jsimp.js"></script>
        <script type="text/javascript">
            var image = document.getElementById('imageInput');
            image.addEventListener('change', handleImage, false);
            var canvas = document.getElementById('canvas');
            var ctx = canvas.getContext('2d');
            var jsimp = new JSIMP();

            function handleImage(e) {
                var reader = new FileReader();
                reader.onload = function(event) {
                    var img = new Image();
                    img.onload = function() {
                        canvas.width = img.width/8;
                        canvas.height = img.height/8;
                        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                        jsimp.loadImgFromCanvas(canvas);
                    }
                    img.src = event.target.result;
                }
                reader.readAsDataURL(e.target.files[0]);
            }

        </script>
    </body>
</html>
